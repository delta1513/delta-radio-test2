<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset='utf-8'>
        <title>Page Title</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="stylesheet" href="style.css">
        <script src='client.js'></script>
    </head>
    <body>
        <div class="w-1/4 mx-auto text-center">
            <button onclick="start(this)" class="w-64 h-64 rounded-full overflow-hidden focus:outline-none">
                <img src="play.svg" alt="Play button" class="w-full h-full object-cover">
            </button>

            <input type="range" min="0" max="1" step="0.01" value="0.5" id="volume-slider" class="w-full h-4 rounded-full overflow-hidden appearance-none bg-gray-200">
        </div>

        <!-- Timer that counts how long the page has been open -->
        <div>
            <span id="timer">00:00</span>
        </div>

        <audio id="audio" autoplay="true" controls=true style="display: none;"></audio>
    </body>

    <script>
        const volumeSlider = document.getElementById('volume-slider');
        const audioPlayer = document.getElementById('audio');

        if (localStorage.getItem('volume')) {
            audioPlayer.volume = localStorage.getItem('volume');
            volumeSlider.value = localStorage.getItem('volume');
        } else {
            audioPlayer.volume = volumeSlider.value;
        }
        
        volumeSlider.addEventListener('input', () => { 
            audioPlayer.volume = volumeSlider.value;
            localStorage.setItem('volume', volumeSlider.value);
        });
    </script>

    <script>
        const timerElement = document.getElementById("timer");
        let seconds = 0;
        let minutes = 0;

        setInterval(() => {
            seconds++;
            if (seconds === 60) {
                seconds = 0;
                minutes++;
            }
            
            const formattedTime = `${padZero(minutes)}:${padZero(seconds)}`;
            timerElement.textContent = formattedTime;
        }, 1000);

        function padZero(num) {
            return num.toString().padStart(2, '0');
        }
    </script>
</html>